{"version":3,"sources":["../../../src/routes/users/me.handler.ts"],"sourcesContent":["import { UserRepository } from \"@root/repositories/user.repositoty.js\"\nimport { consumeResult } from \"@root/utils/consume-result.util.js\"\nimport { pipe } from \"effect\"\nimport type { FastifyPluginAsyncZod } from \"fastify-type-provider-zod\"\nimport { z } from \"zod\"\n\nconst handler: FastifyPluginAsyncZod = async self => {\n\tself.get(\n\t\t\"/:id\",\n\t\t{\n\t\t\tschema: {\n\t\t\t\tparams: z.object({\n\t\t\t\t\tid: z.string().transform(Number).pipe(z.number().int().min(1))\n\t\t\t\t}),\n\t\t\t\ttags: [\"users\"]\n\t\t\t}\n\t\t},\n\t\tasync ({ params }) =>\n\t\t\tpipe(\n\t\t\t\tself.resolveRepository(UserRepository),\n\t\t\t\tuserRepository => userRepository.findById(params.id),\n\t\t\t\tconsumeResult\n\t\t\t)\n\t)\n}\n\nexport default handler\n"],"names":["UserRepository","consumeResult","pipe","z","handler","self","get","schema","params","object","id","string","transform","Number","number","int","min","tags","resolveRepository","userRepository","findById"],"mappings":"AAAA,SAASA,cAAc,QAAQ,wCAAuC;AACtE,SAASC,aAAa,QAAQ,qCAAoC;AAClE,SAASC,IAAI,QAAQ,SAAQ;AAE7B,SAASC,CAAC,QAAQ,MAAK;AAEvB,MAAMC,UAAiC,OAAMC;IAC5CA,KAAKC,GAAG,CACP,QACA;QACCC,QAAQ;YACPC,QAAQL,EAAEM,MAAM,CAAC;gBAChBC,IAAIP,EAAEQ,MAAM,GAAGC,SAAS,CAACC,QAAQX,IAAI,CAACC,EAAEW,MAAM,GAAGC,GAAG,GAAGC,GAAG,CAAC;YAC5D;YACAC,MAAM;gBAAC;aAAQ;QAChB;IACD,GACA,OAAO,EAAET,MAAM,EAAE,GAChBN,KACCG,KAAKa,iBAAiB,CAAClB,iBACvBmB,CAAAA,iBAAkBA,eAAeC,QAAQ,CAACZ,OAAOE,EAAE,GACnDT;AAGJ;AAEA,eAAeG,QAAO"}