{"version":3,"sources":["../../../src/routes/users/me.handler.ts"],"sourcesContent":["import { UserModel } from \"@root/models/user.js\"\nimport { UserRepository } from \"@root/repositories/user.repositoty.js\"\nimport { positiveInt } from \"@root/shared/parser.js\"\nimport { unwrap } from \"@root/utils/result.util.js\"\nimport { pipe } from \"effect\"\nimport type { FastifyPluginAsyncZod } from \"fastify-type-provider-zod\"\nimport { z } from \"zod\"\n\nconst handler: FastifyPluginAsyncZod = async self => {\n\tself.get(\n\t\t\"/:id\",\n\t\t{\n\t\t\tschema: {\n\t\t\t\tparams: z.object({\n\t\t\t\t\tid: positiveInt()\n\t\t\t\t}),\n\t\t\t\ttags: [\"users\"],\n\t\t\t\tresponse: {\n\t\t\t\t\t200: UserModel\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tasync ({ params }) =>\n\t\t\tpipe(\n\t\t\t\tself.resolveRepository(UserRepository),\n\t\t\t\tuserRepository => userRepository.findById(params.id),\n\t\t\t\tunwrap\n\t\t\t)\n\t)\n}\n\nexport default handler\n"],"names":["UserModel","UserRepository","positiveInt","unwrap","pipe","z","handler","self","get","schema","params","object","id","tags","response","resolveRepository","userRepository","findById"],"mappings":"AAAA,SAASA,SAAS,QAAQ,uBAAsB;AAChD,SAASC,cAAc,QAAQ,wCAAuC;AACtE,SAASC,WAAW,QAAQ,yBAAwB;AACpD,SAASC,MAAM,QAAQ,6BAA4B;AACnD,SAASC,IAAI,QAAQ,SAAQ;AAE7B,SAASC,CAAC,QAAQ,MAAK;AAEvB,MAAMC,UAAiC,OAAMC;IAC5CA,KAAKC,GAAG,CACP,QACA;QACCC,QAAQ;YACPC,QAAQL,EAAEM,MAAM,CAAC;gBAChBC,IAAIV;YACL;YACAW,MAAM;gBAAC;aAAQ;YACfC,UAAU;gBACT,KAAKd;YACN;QACD;IACD,GACA,OAAO,EAAEU,MAAM,EAAE,GAChBN,KACCG,KAAKQ,iBAAiB,CAACd,iBACvBe,CAAAA,iBAAkBA,eAAeC,QAAQ,CAACP,OAAOE,EAAE,GACnDT;AAGJ;AAEA,eAAeG,QAAO"}